import "https://github.com/shawnrc/youshoku/raw/refs/heads/main/schemas/recipe.pkl"

open class X100VRecipe extends recipe.FilmRecipe {
    filmSimulation:
        "Provia"
        | "Velvia"
        | "Astia"
        | "Classic Chrome"
        | "Pro Neg. Hi"
        | "Pro Neg. Std"
        | "Classic Negative"
        | "Eterna"
        | "Acros"
        | "Acros+Y"
        | "Acros+R"
        | "Acros+G"
        | "Monochrome"
        | "Monochrome+Y"
        | "Monochrome+R"
        | "Monochrome+G"
        | "Sepia"
    whiteBalance:
        "Auto"
        | "Custom 1"
        | "Custom 2"
        | "Custom 3"
        | "Temperature"
        | "Daylight"
        | "Shade"
        | "Fluorescent Light-1"
        | "Fluorescent Light-2"
        | "Fluorescent Light-3"
        | "Incendescent"
        | "Underwater"
    wbShiftRed: Int(isBetween(-9, 9))
    wbShiftBlue: Int(isBetween(-9, 9))
    dynamicRange: "DR-Auto"|"DR100"|"DR200"|"DR400"|"DR-P Auto"|"DR-P Weak"|"DR-P Strong"
    highlight: Int(isBetween(-2, 4))?
    shadow: Int(isBetween(-2, 4))?
    color: Int(isBetween(-4, 4))?
    maxIso: Int(isValidIso)
}

const local isValidIso = (value) ->
    Set(160, 200, 250, 320, 400, 500, 640, 800, 1000, 1250, 1600, 2000, 2500, 3200, 4000, 5000, 6400, 8000, 10_000, 12_800)
        .contains(value)
